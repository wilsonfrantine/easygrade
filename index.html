<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EasyGrade</title>

    <!-- Estilos -->
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>
    <header id="logo-container">
        <h1>EasyGrade</h1>
        <p>Simplificando a correção de gabaritos</p>
    </header>

    <nav id="menu">
        <button class="menu-btn" id="lerGabarito" aria-label="Ler Gabarito">Ler Gabarito</button>
        <button class="menu-btn" id="criarGabarito" aria-label="Criar Gabarito">Criar Gabarito</button>
    </nav>

    <main class="container">
        <section id="criarGabaritoDiv" class="hidden" aria-label="Criação de Gabarito">
            <h2>Criação de Gabarito</h2>

            <form id="questaoForm">
                <label for="tipoQuestao">Tipo de Questão:</label>
                <select id="tipoQuestao" name="tipoQuestao">
                    <option value="multipla">Múltipla Escolha</option>
                    <option value="vf">Verdadeiro ou Falso</option>
                    <option value="discursiva">Discursiva</option>
                </select>

                <label for="numAlternativas">Número de Alternativas:</label>
                <span>(máximo 15)</span>
                <input type="number" id="numAlternativas" name="numAlternativas" min="2" max="15" required>
            </form>

            <div id="mensagemErro" class="mensagem-erro"></div>

            <div id="previsualizacaoDiv">
                <h3>Pré-visualização da Questão</h3>
                <p id="instrucaoSelecao" class="hidden">Selecione a alternativa correta:</p>
                <div id="previsualizacaoQuestoes"></div>
                <button type="button" class="action-btn" id="confirmarQuestao">Confirmar Questão</button>
            </div>

            <div id="questoesLista">
                <h3>Questões Adicionadas</h3>
                <p class="legenda">
                    Clique em <span class="material-icons">edit</span> para editar,
                    <span class="material-icons">arrow_upward</span> ou
                    <span class="material-icons">arrow_downward</span> para reordenar e
                    <span class="material-icons">delete</span> para deletar.
                </p>
                <ul id="questoesUl"></ul>
            </div>

            <button type="button" class="action-btn" id="gerarGabaritoFinal">Gerar Gabarito</button>
            <div id="gabaritoOutput"></div>

            <button class="action-btn voltar">Voltar</button>
        </section>

        <section id="lerGabaritoDiv" class="hidden" aria-label="Leitura de Gabarito">
            <h2>Leitura de Gabarito</h2>
            
            <video id="video" width="640" height="480" autoplay></video>

            <canvas id="canvas" width="640" height="480"></canvas> 

            <canvas id="canvasBinary" width="640" height="480"></canvas>
            <canvas id="canvasTransformada" width="500" height="700"></canvas>


            <div id="status" style="margin-top: 10px; font-weight: bold; color: red;"></div>

            <button type="button" class="action-btn" id="capture">Capturar Imagem</button>
            <button type="button" class="action-btn" id="trocarCamera">Trocar Câmera</button>

            <button class="action-btn voltar">Voltar</button>
        </section>
    </main>

    <footer>
        <p>&copy; 2023 EasyGrade. Todos os direitos reservados.</p>
    </footer>

    <!-- Bibliotecas externas com defer -->
    <script src="./js/opencv.js" defer></script>
    <script src="./js/jsQR.js" defer></script>
    <script src="./js/lz-string.min.js" defer></script>

    <!-- Seus scripts locais com defer -->
    <script src="processar_gabarito.js" defer></script>
    <script src="ler_gabarito.js" defer></script>
    <script src="gerar_gabarito.js" defer></script>
    <script src="script.js" defer></script>

</body>
</html>
